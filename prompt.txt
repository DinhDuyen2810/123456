I. Các tính năng bảo mật & hàm thực hiện
1. Quản lý khóa
	- Sinh cặp khóa bất đối xứng cho user: `generateKeyPair`, `generateSignKeyPair` (file: src/crypto/keyPair.js)
	- Dẫn xuất master key từ mật khẩu: `deriveMasterKey` (file: src/crypto/keyDerivation.js)
	- Mã hóa/giải mã khóa file khi chia sẻ: `encryptFileKeyForUser`, `decryptFileKeyForUser` (file: src/crypto/shareFileKey.js)

2. Mã hóa/giải mã file
	- Mã hóa file: `encryptFile` (file: src/crypto/fileEncryption.js)
	- Giải mã file: `decryptFile` (file: src/crypto/fileEncryption.js)
	- Mã hóa/giải mã privateKey/signPrivateKey: `encryptWithKey`, `decryptWithKey` (file: src/crypto/fileEncryption.js)

3. Ký số & xác thực file
	- Ký số file: `signFile` (file: src/crypto/keyPair.js)
	- Xác thực chữ ký: `verifyFileSignature` (file: src/crypto/keyPair.js)

4. Quản lý session, xác thực, phân quyền
	- Lưu/đọc session: `saveSession`, `getSession`, `clearSession` (file: src/utils/session.js)
	- Bảo vệ route riêng tư: `PrivateRoute` (file: src/components/PrivateRoute.jsx)
	- Phân quyền truy cập: kiểm tra owner_id, shared_with_user_id trong các truy vấn Supabase

5. Chia sẻ file/folder an toàn
	- Chia sẻ file cho nhiều người: mã hóa fileKey cho từng người nhận, lưu vào bảng file_shares
	- Hẹn thời gian hết hạn: trường expires_at trong file_shares
	- Chia sẻ folder: đệ quy chia sẻ toàn bộ file/folder con

6. Bảo vệ dữ liệu lưu trữ
	- File luôn được mã hóa trước khi upload lên Supabase Storage
	- Chỉ lưu khóa file đã mã hóa bằng publicKey của từng user được chia sẻ
	- Không ai ngoài người nhận (có privateKey) giải mã được fileKey

II. Luồng hoạt động & các kịch bản
1. Đăng file (upload)
	- User chọn file → sinh fileKey ngẫu nhiên → mã hóa file (encryptFile)
	- FileKey được mã hóa bằng publicKey của owner (encryptFileKeyForUser)
	- Upload file đã mã hóa lên Supabase Storage, lưu metadata và encrypted_file_key_owner vào DB

2. Chia sẻ file cho nhiều người
	- Khi share, fileKey được giải mã bằng privateKey của owner (decryptFileKeyForUser)
	- Với mỗi người nhận, mã hóa lại fileKey bằng publicKey của họ (encryptFileKeyForUser)
	- Lưu encrypted_file_key vào bảng file_shares cho từng người nhận

3. Hẹn thời gian hết hạn chia sẻ
	- Khi chia sẻ, có thể chọn expires_at
	- Khi người nhận truy cập, kiểm tra expires_at, nếu hết hạn sẽ không cho giải mã fileKey

4. Chia sẻ folder
	- Đệ quy lấy toàn bộ file/folder con
	- Với mỗi file, thực hiện chia sẻ như trên cho từng người nhận
	- Lưu thông tin vào folder_shares và file_shares

5. Xóa file/folder
	- Xóa metadata, file trên storage, các bản chia sẻ liên quan

6. Tải về/giải mã/kiểm tra chữ ký
	- Khi tải về, giải mã fileKey bằng privateKey, giải mã file, xác thực chữ ký nếu có

7. Đăng nhập/đăng ký
	- Đăng ký: sinh keypair, signKeypair, deriveMasterKey, mã hóa privateKey, signPrivateKey bằng masterKey, lưu lên DB
	- Đăng nhập: lấy salt, deriveMasterKey, giải mã privateKey, signPrivateKey, lưu session


